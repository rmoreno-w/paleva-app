<h2><%= @beverage.name%></h2>

<article class="my-10 flex flex-col max-w-5xl border-2 border-projectPurpleLighter rounded-xl p-5 relative overflow-hidden">
    <section class="flex justify-between">
        <section class="flex flex-col gap-2">
            <span class="font-bold text-lg text-projectPurple"><%= Beverage.human_attribute_name :is_alcoholic %></span>
            <p>
                <% if @beverage.active? %>
                    Ativo üü¢
                <% else %>
                    Inativo üî¥
                <% end %>
            </p>

            <span class="font-bold text-lg text-projectPurple"><%= Beverage.human_attribute_name :description %></span>
            <p>
                <%= @beverage.description%>
            </p>

            <span class="font-bold text-lg text-projectPurple"><%= Beverage.human_attribute_name :calories %></span>
            <p>
                <%= @beverage.calories%>
            </p>

            <span class="font-bold text-lg text-projectPurple"><%= Beverage.human_attribute_name :is_alcoholic %></span>
            <p>
                <% if @beverage.is_alcoholic %>
                    ‚úÖ
                <% else %>
                    ‚ùå
                <% end %>
            </p>
        </section>

        <picture>
            <figcaption class="font-bold text-lg text-projectPurple">Foto da Bebida</figcaption>
            <% if @beverage.picture.present? %>
                <div class="w-60 h-60">
                    <%= image_tag @beverage.picture %>
                </div>
            <% else %>
                <figcaption>Esta Bebida ainda n√£o possui uma foto :(</figcaption>
            <% end %>
        </picture>

        <section class="flex flex-col gap-2 justify-start max-w-5xl items-end">
            <% if @beverage.active? %>
                <%= button_to 'Desativar Bebida', deactivate_restaurant_beverage_path(@restaurant.id, @beverage.id), method: :post, class: 'outline_button w-full text-center' %>
            <% else %>
                <%= button_to 'Ativar Bebida', activate_restaurant_beverage_path(@restaurant.id, @beverage.id), method: :post, class: 'outline_button w-full text-center' %>
            <% end %>
            <%= link_to 'Alterar Bebida', edit_restaurant_beverage_path(@restaurant.id, @beverage.id), class: 'outline_button w-full text-center' %>
            <%= button_to 'Remover Bebida', restaurant_beverage_path(@restaurant.id, @beverage.id), method: :delete, class: 'outline_button w-full bg-projectRed text-projectWhite border-0', form: { class: 'w-full' } %>
        </section>
    </section>

    <hr class="-mx-5 mt-10 border border-projectPurple border-dashed" />

    <section class="flex flex-col bg-[#e4e4e8] py-10 px-5 -mx-5 -mb-5 font-mono">
        <header class="flex justify-between">
            <h3 class="font-bold text-[22px] text-projectPurple">Por√ß√µes:</h3>
            <%= link_to '+ Cadastrar Por√ß√£o', new_restaurant_beverage_serving_path(@restaurant, @beverage), class: 'outline_button' %>
        </header>

        <% if @beverage.servings.empty? %>
            <p class="mt-4">
                Nenhuma por√ß√£o cadastrada para <span class="font-bold text-projectPurple"><%= @beverage.name %></span>
            </p>
        <% else %>
            <ul class="list-disc list-inside marker:text-projectPurpleLighter mt-4">
            <% @beverage.servings.each do | serving | %>
                <li class="w-1/2">
                    <span class="font-bold"><%= serving.description%></span>
                    - <%= number_to_currency(serving.current_price, precision: 2) %>
                    <%= link_to 'Editar', root_path, class: 'outline_button p-2' %>
                </li>
            <% end %>
            </ul>
        <% end %>
    </section>
</article>
